// Translations object
const translations = {
    en: {
        nav_home: "Home",
        nav_about: "About",
        nav_portfolio: "Portfolio",
        nav_achievements: "Achievements",
        nav_contact: "Contact",
        hero_title: "Hi, I'm Alexander Shvartsman",
        hero_tagline: "Aspiring Computer Scientist, Entrepreneur, and Athlete",
        hero_intro: "I'm passionate about building technology that improves people's lives. Whether it's helping my brother in his AI-driven healthcare solutions or pursuing personal research in bionics, I love using data and machine learning to solve real-world problems.",
        hero_work_btn: "üìå See My Work",
        hero_contact_btn: "üì© Contact Me",
        about_title: "About Me",
        about_who_title: "Who I Am",
        about_who_text: "I'm a high school sophomore with a strong passion for helping the world using AI and machine learning. Ever since I made my own calculator app (the youtube video showed the exact necessary code) at 10, I've been obsessed with creativity and solving problems. From wrestling on the mat to coding at my desk, I believe that persistence and passion drive meaningful change.",
        about_inspires_title: "What Inspires Me",
        about_inspires_text: "My dad, growing up in the mountains of Soviet Russia, had a tough life. There was immense pressure on him to succeed and to make enough money to escape the poor conditions and the unsafety that resided in the USSR. My father got top grades in school, moved to Moscow, found the love of his life, moved to America, just to keep pushing to create a great life for his children. I believe that such a story, especially from my father, is inspirational and pushes me to become the best version of myself.",
        about_goals_title: "My Goals",
        about_goals_text: "I hope to use my knowledge in AI programming and the mental skills learned in high-level sports to improve the human race. I plan to dedicate time and energy towards healthcare, AI-driven solutions, and helping people.",
        portfolio_title: "My Portfolio",
        more_projects: "More Projects to come...",
        achievements_title: "My Achievements",
        contact_title: "Get In Touch",
        contact_info_title: "Contact Information",
        contact_name: "Your Name",
        contact_email: "Your Email",
        contact_subject: "Subject",
        contact_message: "Your Message",
        contact_send: "Send Message",
        footer_copyright: "&copy; 2025 Alexander Shvartsman. All Rights Reserved.",
        form_success: "Thank you for your message! I will get back to you soon."
    },
    ru: {
        nav_home: "–ì–ª–∞–≤–Ω–∞—è",
        nav_about: "–û–±–æ –º–Ω–µ",
        nav_portfolio: "–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ",
        nav_achievements: "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
        nav_contact: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
        hero_title: "–ü—Ä–∏–≤–µ—Ç, —è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–≤–∞—Ä—Ü–º–∞–Ω",
        hero_tagline: "–ë—É–¥—É—â–∏–π –∏–Ω–∂–µ–Ω–µ—Ä-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –∏ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω",
        hero_intro: "–Ø —É–≤–ª–µ—á–µ–Ω —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–ª—É—á—à–∞—é—Ç –∂–∏–∑–Ω—å –ª—é–¥–µ–π. –ë—É–¥—å —Ç–æ –ø–æ–º–æ—â—å –º–æ–µ–º—É –±—Ä–∞—Ç—É –≤ –µ–≥–æ —Ä–µ—à–µ–Ω–∏—è—Ö –¥–ª—è –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏–ª–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –±–∏–æ–Ω–∏–∫–∏, –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.",
        hero_work_btn: "üìå –ú–æ–∏ —Ä–∞–±–æ—Ç—ã",
        hero_contact_btn: "üì© –°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π",
        about_title: "–û–±–æ –º–Ω–µ",
        about_who_title: "–ö—Ç–æ —è",
        about_who_text: "–Ø —É—á—É—Å—å –Ω–∞ –≤—Ç–æ—Ä–æ–º –∫—É—Ä—Å–µ —Å—Ä–µ–¥–Ω–µ–π —à–∫–æ–ª—ã –∏ –æ—á–µ–Ω—å —Ö–æ—á—É –ø–æ–º–æ—á—å –º–∏—Ä—É —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –° —Ç–µ—Ö –ø–æ—Ä, –∫–∞–∫ –≤ 10 –ª–µ—Ç —è —Å–æ–∑–¥–∞–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (–Ω–∞ –≤–∏–¥–µ–æ –Ω–∞ YouTube –±—ã–ª –ø–æ–∫–∞–∑–∞–Ω —Ç–æ—á–Ω—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–¥), —è –±—ã–ª –æ–¥–µ—Ä–∂–∏–º —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º –∏ —Ä–µ—à–µ–Ω–∏–µ–º –∑–∞–¥–∞—á. –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ —Å—Ç—Ä–∞—Å—Ç—å –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∑–Ω–∞—á–∏–º—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º ‚Äî –æ—Ç –±–æ—Ä—å–±—ã –Ω–∞ –∫–æ–≤—Ä–µ –¥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞ —Å—Ç–æ–ª–æ–º.",
        about_inspires_title: "–ß—Ç–æ –º–µ–Ω—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç",
        about_inspires_text: "–ú–æ–π –æ—Ç–µ—Ü, –≤—ã—Ä–æ—Å—à–∏–π –≤ –≥–æ—Ä–∞—Ö –°–æ–≤–µ—Ç—Å–∫–æ–π –†–æ—Å—Å–∏–∏, –∏–º–µ–ª —Ç—è–∂–µ–ª—É—é –∂–∏–∑–Ω—å. –ù–∞ –Ω–µ–≥–æ –æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –æ–≥—Ä–æ–º–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–æ–±—ã –¥–æ–±–∏—Ç—å—Å—è —É—Å–ø–µ—Ö–∞ –∏ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–ª–æ—Ö–∏—Ö —É—Å–ª–æ–≤–∏–π –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ –°–°–°–†. –ú–æ–π –æ—Ç–µ—Ü –ø–æ–ª—É—á–∏–ª –≤—ã—Å–æ–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –≤ —à–∫–æ–ª–µ, –ø–µ—Ä–µ–µ—Ö–∞–ª –≤ –ú–æ—Å–∫–≤—É, –Ω–∞—à–µ–ª –ª—é–±–æ–≤—å –≤—Å–µ–π —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏, –ø–µ—Ä–µ–µ—Ö–∞–ª –≤ –ê–º–µ—Ä–∏–∫—É, –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–∫—Ä–∞—Å–Ω—É—é –∂–∏–∑–Ω—å –¥–ª—è —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π. –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ —Ç–∞–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –æ—Ç –º–æ–µ–≥–æ –æ—Ç—Ü–∞, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –∏ –ø–æ–¥—Ç–∞–ª–∫–∏–≤–∞–µ—Ç –º–µ–Ω—è —Å—Ç–∞—Ç—å –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è.",
        about_goals_title: "–ú–æ–∏ —Ü–µ–ª–∏",
        about_goals_text: "–Ø —Ö–æ—á—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –ò–ò –∏ —É–º—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤ —Å–ø–æ—Ä—Ç–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π —Ä–∞—Å—ã. –Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ—Å–≤—è—Ç–∏—Ç—å –≤—Ä–µ–º—è –∏ —ç–Ω–µ—Ä–≥–∏—é –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é, —Ä–µ—à–µ–Ω–∏—è–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò –∏ –ø–æ–º–æ—â–∏ –ª—é–¥—è–º.",
        portfolio_title: "–ú–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ",
        achievements_title: "–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
        contact_title: "–°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π",
        contact_info_title: "–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
        contact_name: "–í–∞—à–µ –∏–º—è",
        contact_email: "–í–∞—à email",
        contact_subject: "–¢–µ–º–∞",
        contact_message: "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
        contact_send: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ",
        footer_copyright: "&copy; 2025 –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–≤–∞—Ä—Ü–º–∞–Ω. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.",
        form_success: "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ! –Ø —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è."
    },
    es: {
        nav_home: "Inicio",
        nav_about: "Sobre m√≠",
        nav_portfolio: "Portafolio",
        nav_achievements: "Logros",
        nav_contact: "Contacto",
        hero_title: "Hola, soy Alejandro Shvartsman",
        hero_tagline: "Aspirante a cient√≠fico inform√°tico, emprendedor y atleta",
        hero_intro: "Me apasiona construir tecnolog√≠a que mejore la vida de las personas. Ya sea ayudando a mi hermano en sus soluciones de atenci√≥n m√©dica basadas en inteligencia artificial o realizando una investigaci√≥n personal en bi√≥nica, me encanta usar datos y aprendizaje autom√°tico para resolver problemas del mundo real. ",
        hero_work_btn: "üìå Ver mi trabajo",
        hero_contact_btn: "üì© Cont√°ctame",
        about_title: "Sobre m√≠",
        about_who_title: "Qui√©n soy",
        about_who_text: "Soy un estudiante de segundo a√±o de secundaria y tengo una gran pasi√≥n por ayudar al mundo mediante la inteligencia artificial y el aprendizaje autom√°tico. Desde que hice mi propia aplicaci√≥n de calculadora (el video de YouTube mostr√≥ el c√≥digo exacto necesario) a los 10 a√±os, he estado obsesionado con la creatividad y la resoluci√≥n de problemas. Desde luchar en el tapete hasta codificar en mi escritorio, creo que la perseverancia y la pasi√≥n impulsan cambios significativos.",
        about_inspires_title: "Lo que me inspira",
        about_inspires_text: "Mi padre, criado en las monta√±as de la Rusia Sovi√©tica, tuvo una vida dif√≠cil. Ten√≠a una enorme presi√≥n para triunfar y ganar suficiente dinero para escapar de las malas condiciones y la inseguridad que imperaban en la URSS. Mi padre sac√≥ las mejores notas en la escuela, se mud√≥ a Mosc√∫, encontr√≥ al amor de su vida y se mud√≥ a Estados Unidos, simplemente para seguir luchando por crear una vida plena para sus hijos. Creo que una historia como esta, especialmente la de mi padre, es inspiradora y me impulsa a convertirme en la mejor versi√≥n de m√≠ mismo.",
        about_goals_title: "Mis objetivos",
        about_goals_text: "Quiero usar mis conocimientos de programaci√≥n de IA y las habilidades mentales adquiridas en el deporte de alto nivel para mejorar la humanidad. Planeo dedicar tiempo y energ√≠a a la atenci√≥n m√©dica, a las soluciones basadas en IA y a ayudar a las personas.",
        portfolio_title: "Mi portafolio",
        achievements_title: "Mis logros",
        contact_title: "Ponte en contacto",
        contact_info_title: "Informaci√≥n de contacto",
        contact_name: "Tu nombre",
        contact_email: "Tu correo electr√≥nico",
        contact_subject: "Asunto",
        contact_message: "Tu mensaje",
        contact_send: "Enviar mensaje",
        footer_copyright: "&copy; 2025 Alexander Shvartsman. Todos los derechos reservados.",
        form_success: "¬°Gracias por tu mensaje! Me pondr√© en contacto contigo pronto."
    }
};

// Current language (default: English)
let currentLang = localStorage.getItem('language') || 'en';

// Function to update all text on the page based on selected language
function updateLanguage(lang) {
    // Update currentLang
    currentLang = lang;
    
    // Save user preference
    localStorage.setItem('language', lang);
    
    // Update the current language display
    document.querySelector('.current-lang').textContent = lang.toUpperCase();
    
    // Update all elements with data-lang-key attribute
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        
        // Check if the element is an input or textarea
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translations[lang][key];
        }
        // For all other elements
        else {
            element.innerHTML = translations[lang][key];
        }
    });
}

// Language dropdown toggle
const languageBtn = document.querySelector('.language-btn');
const languageDropdown = document.querySelector('.language-dropdown');

languageBtn.addEventListener('click', () => {
    languageDropdown.classList.toggle('show');
});

// Language selection
document.querySelectorAll('.language-dropdown li').forEach(item => {
    item.addEventListener('click', () => {
        const lang = item.getAttribute('data-lang');
        updateLanguage(lang);
        languageDropdown.classList.remove('show');
    });
});

// Close language dropdown when clicking outside
document.addEventListener('click', (e) => {
    if (!e.target.closest('.language-selector')) {
        languageDropdown.classList.remove('show');
    }
});

// Initialize language on load
document.addEventListener('DOMContentLoaded', () => {
    updateLanguage(currentLang);
});

// Mobile Menu Toggle
const navToggle = document.querySelector('.nav-toggle');
const navMenu = document.querySelector('.nav-menu');

navToggle.addEventListener('click', () => {
    navMenu.classList.toggle('active');
});

// Close mobile menu when clicking on a link
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', () => {
        navMenu.classList.remove('active');
    });
});

// Scroll Animation
const fadeElements = document.querySelectorAll('.fade-in');

const fadeIn = () => {
    fadeElements.forEach(element => {
        const elementTop = element.getBoundingClientRect().top;
        const elementVisible = 150;
        
        if (elementTop < window.innerHeight - elementVisible) {
            element.classList.add('show');
        }
    });
};

// Call fadeIn on initial load
window.addEventListener('load', fadeIn);

// Call fadeIn on scroll
window.addEventListener('scroll', fadeIn);

// Form Submission
const contactForm = document.getElementById('contactForm');

contactForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    // Here you would normally send the form data to a server
    // For demo purposes, we'll just show an alert
    alert(translations[currentLang].form_success);
    contactForm.reset();
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        window.scrollTo({
            top: targetElement.offsetTop - 70,
            behavior: 'smooth'
        });
    });
});

// Change navbar background on scroll
window.addEventListener('scroll', () => {
    const navbar = document.querySelector('.navbar');
    
    if (window.scrollY > 50) {
        navbar.style.padding = '5px 0';
        navbar.style.boxShadow = '0 2px 15px rgba(0, 0, 0, 0.1)';
    } else {
        navbar.style.padding = '20px 0';
        navbar.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
    }
});

// Scroll Down Arrow Fade
const scrollArrow = document.getElementById('scroll-down-arrow');
const heroSection = document.getElementById('home'); // Assuming 'home' is the ID of your hero section

if (scrollArrow && heroSection) {
    const heroHeight = heroSection.offsetHeight;
    // Start fading after scrolling 10% of the hero height, fully faded by 40%
    const fadeStart = heroHeight * 0.1;
    const fadeEnd = heroHeight * 0.4;

    const fadeArrowOnScroll = () => {
        const scrollY = window.scrollY;
        let opacity = 1;

        if (scrollY > fadeStart) {
            // Calculate opacity: decreases linearly from 1 to 0 between fadeStart and fadeEnd
            opacity = 1 - (scrollY - fadeStart) / (fadeEnd - fadeStart);
        }

        // Clamp opacity between 0 and 1
        opacity = Math.max(0, Math.min(1, opacity));

        scrollArrow.style.opacity = opacity;
    };

    window.addEventListener('scroll', fadeArrowOnScroll);
    // Initial call in case the page loads already scrolled
    fadeArrowOnScroll();
}